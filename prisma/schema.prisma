generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model tbl_bebe {
  id_bebe              Int                    @id @default(autoincrement())
  nome                 String                 @db.VarChar(100)
  data_nascimento      DateTime               @db.Date
  peso                 Decimal                @db.Decimal(2, 0)
  altura               Int
  certidao_nascimento  String                 @db.VarChar(50)
  cpf                  String?                @db.VarChar(15)
  cartao_medico        String                 @db.VarChar(45)
  imagem_certidao      String                 @db.Text
  id_sexo              Int?
  id_cep               Int?
  id_sangue            Int?
  tbl_cep              tbl_cep?               @relation(fields: [id_cep], references: [id_cep], onDelete: NoAction, onUpdate: NoAction, map: "FK_CEP_BEBE")
  tbl_sangue           tbl_sangue?            @relation(fields: [id_sangue], references: [id_sangue], onDelete: NoAction, onUpdate: NoAction, map: "FK_SANGUE_RESPONSAVEL")
  tbl_sexo             tbl_sexo?              @relation(fields: [id_sexo], references: [id_sexo], onDelete: NoAction, onUpdate: NoAction, map: "FK_SEXO_BEBE")
  tbl_responsavel_bebe tbl_responsavel_bebe[]

  @@index([id_cep], map: "FK_CEP_BEBE")
  @@index([id_sangue], map: "FK_SANGUE_RESPONSAVEL")
  @@index([id_sexo], map: "FK_SEXO_BEBE")
}

model tbl_cep {
  id_cep          Int               @id @default(autoincrement())
  cep             String            @db.VarChar(20)
  logradouro      String            @db.VarChar(100)
  cidade          String            @db.VarChar(50)
  uf              String            @db.VarChar(2)
  id_responsavel  Int?
  tbl_bebe        tbl_bebe[]
  tbl_clinica     tbl_clinica[]
  tbl_responsavel tbl_responsavel[]
}

model tbl_chat {
  id_chat      Int           @id @default(autoincrement())
  id_mensagem  Int?
  id_user      Int?
  tbl_messager tbl_messager? @relation(fields: [id_mensagem], references: [id_mensagem], onDelete: NoAction, onUpdate: NoAction, map: "FK_CHAT_MENSAGEM")
  tbl_user     tbl_user?     @relation(fields: [id_user], references: [id_user], onDelete: NoAction, onUpdate: NoAction, map: "FK_CHAT_USER")

  @@index([id_mensagem], map: "FK_CHAT_MENSAGEM")
  @@index([id_user], map: "FK_CHAT_USER")
}

model tbl_clinica {
  id_clinica                Int                         @id @default(autoincrement())
  nome                      String                      @db.VarChar(100)
  cnpj                      String                      @db.VarChar(20)
  telefone                  String                      @db.VarChar(20)
  email                     String                      @db.VarChar(100)
  id_cep                    Int?
  id_user                   Int?
  tbl_cep                   tbl_cep?                    @relation(fields: [id_cep], references: [id_cep], onDelete: NoAction, onUpdate: NoAction, map: "FK_CEP_CLINICA")
  tbl_user                  tbl_user?                   @relation(fields: [id_user], references: [id_user], onDelete: NoAction, onUpdate: NoAction, map: "FK_USUARIO_CLINICA")
  tbl_especialidade_clinica tbl_especialidade_clinica[]

  @@index([id_cep], map: "FK_CEP_CLINICA")
  @@index([id_user], map: "FK_USUARIO_CLINICA")
}

model tbl_especialidade {
  id_especialidade          Int                         @id @default(autoincrement())
  especialidade             String?                     @db.VarChar(100)
  tbl_especialidade_clinica tbl_especialidade_clinica[]
  tbl_especialidade_medico  tbl_especialidade_medico[]
}

model tbl_especialidade_clinica {
  id                Int                @id @default(autoincrement())
  id_clinica        Int?
  id_especialidade  Int?
  tbl_clinica       tbl_clinica?       @relation(fields: [id_clinica], references: [id_clinica], onDelete: NoAction, onUpdate: NoAction, map: "FK_CLINICA")
  tbl_especialidade tbl_especialidade? @relation(fields: [id_especialidade], references: [id_especialidade], onDelete: NoAction, onUpdate: NoAction, map: "FK_ESPECIALIDADE_CLINICA")

  @@index([id_clinica], map: "FK_CLINICA")
  @@index([id_especialidade], map: "FK_ESPECIALIDADE_CLINICA")
}

model tbl_especialidade_medico {
  id                Int                @id @default(autoincrement())
  id_medico         Int?
  id_especialidade  Int?
  tbl_especialidade tbl_especialidade? @relation(fields: [id_especialidade], references: [id_especialidade], onDelete: NoAction, onUpdate: NoAction, map: "FK_ESPECIALIDADE_MEDICO")
  tbl_medico        tbl_medico?        @relation(fields: [id_medico], references: [id_medico], onDelete: NoAction, onUpdate: NoAction, map: "FK_MEDICO")

  @@index([id_especialidade], map: "FK_ESPECIALIDADE_MEDICO")
  @@index([id_medico], map: "FK_MEDICO")
}

model tbl_medico {
  id_medico                Int                        @id @default(autoincrement())
  nome                     String                     @db.VarChar(60)
  email                    String                     @db.VarChar(100)
  telefone                 String                     @db.VarChar(20)
  crm                      String                     @db.VarChar(20)
  cpf                      String                     @db.VarChar(20)
  foto                     String                     @db.Text
  id_sexo                  Int?
  id_user                  Int?
  tbl_especialidade_medico tbl_especialidade_medico[]
  tbl_sexo                 tbl_sexo?                  @relation(fields: [id_sexo], references: [id_sexo], onDelete: NoAction, onUpdate: NoAction, map: "FK_SEXO_MEDICO")
  tbl_user                 tbl_user?                  @relation(fields: [id_user], references: [id_user], onDelete: NoAction, onUpdate: NoAction, map: "FK_USUARIO_MEDICO")

  @@index([id_sexo], map: "FK_SEXO_MEDICO")
  @@index([id_user], map: "FK_USUARIO_MEDICO")
}

model tbl_messager {
  id_mensagem         Int                  @id @default(autoincrement())
  conteudo            String               @db.Text
  id_tipo_mensagem    Int?
  id_status           Int?
  tbl_chat            tbl_chat[]
  tbl_status_messager tbl_status_messager? @relation(fields: [id_status], references: [id_status], onDelete: NoAction, onUpdate: NoAction, map: "FK_STATUS_MESSAGEM")
  tbl_type_messager   tbl_type_messager?   @relation(fields: [id_tipo_mensagem], references: [id_tipo_mensagem], onDelete: NoAction, onUpdate: NoAction, map: "FK_TIPO_MENSAGEM")

  @@index([id_status], map: "FK_STATUS_MESSAGEM")
  @@index([id_tipo_mensagem], map: "FK_TIPO_MENSAGEM")
}

model tbl_responsavel {
  id_responsavel       Int                    @id @default(autoincrement())
  nome                 String                 @db.VarChar(100)
  data_nascimento      DateTime               @db.Date
  cpf                  String                 @db.VarChar(15)
  telefone             String                 @db.VarChar(45)
  arquivo              String                 @db.Text
  cartao_medico        String                 @db.VarChar(45)
  cep                  String                 @db.VarChar(20)
  id_sexo              Int?
  id_user              Int?
  id_cep               Int?
  tbl_cep              tbl_cep?               @relation(fields: [id_cep], references: [id_cep], onDelete: NoAction, onUpdate: NoAction, map: "FK_CEP_RESPONSAVEL")
  tbl_sexo             tbl_sexo?              @relation(fields: [id_sexo], references: [id_sexo], onDelete: NoAction, onUpdate: NoAction, map: "FK_RESPONSAVEL_SEX")
  tbl_user             tbl_user?              @relation(fields: [id_user], references: [id_user], onDelete: NoAction, onUpdate: NoAction, map: "FK_USUARIO_RESPONSAVEL")
  tbl_responsavel_bebe tbl_responsavel_bebe[]

  @@index([id_cep], map: "FK_CEP_RESPONSAVEL")
  @@index([id_sexo], map: "FK_RESPONSAVEL_SEX")
  @@index([id_user], map: "FK_USUARIO_RESPONSAVEL")
}

model tbl_responsavel_bebe {
  id_bebe_responsavel Int              @id @default(autoincrement())
  id_bebe             Int?
  id_responsavel      Int?
  tbl_bebe            tbl_bebe?        @relation(fields: [id_bebe], references: [id_bebe], onDelete: NoAction, onUpdate: NoAction, map: "FK_BEBE")
  tbl_responsavel     tbl_responsavel? @relation(fields: [id_responsavel], references: [id_responsavel], onDelete: NoAction, onUpdate: NoAction, map: "FK_RESPONSAVEL")

  @@index([id_bebe], map: "FK_BEBE")
  @@index([id_responsavel], map: "FK_RESPONSAVEL")
}

model tbl_rotina {
  id_base         Int              @id @default(autoincrement())
  titulo          String           @db.VarChar(100)
  cor             String           @db.Char(10)
  data_rotina     DateTime         @db.Date
  hora            DateTime         @db.Time(0)
  descricao       String           @db.Text
  id_user         Int?
  id_rotina_base  Int?
  tbl_rotina_base tbl_rotina_base? @relation(fields: [id_rotina_base], references: [id_rotina_base], onDelete: NoAction, onUpdate: NoAction, map: "FK_BASE_ROTINA")
  tbl_user        tbl_user?        @relation(fields: [id_user], references: [id_user], onDelete: NoAction, onUpdate: NoAction, map: "FK_ROTINA_USUARIO")

  @@index([id_rotina_base], map: "FK_BASE_ROTINA")
  @@index([id_user], map: "FK_ROTINA_USUARIO")
}

model tbl_rotina_base {
  id_rotina_base Int          @id @default(autoincrement())
  titulo         String       @db.VarChar(100)
  cor            String       @db.Char(10)
  data_rotina    DateTime     @db.Date
  hora           DateTime     @db.Time(0)
  descricao      String       @db.Text
  tbl_rotina     tbl_rotina[]
}

model tbl_sangue {
  id_sangue      Int        @id @default(autoincrement())
  tipo_sanguineo String     @db.VarChar(4)
  tbl_bebe       tbl_bebe[]
}

model tbl_sexo {
  id_sexo         Int               @id @default(autoincrement())
  sexo            String            @db.VarChar(12)
  tbl_bebe        tbl_bebe[]
  tbl_medico      tbl_medico[]
  tbl_responsavel tbl_responsavel[]
}

model tbl_status_messager {
  id_status       Int            @id @default(autoincrement())
  status_messagem String?        @db.VarChar(50)
  tbl_messager    tbl_messager[]
}

model tbl_type_messager {
  id_tipo_mensagem Int            @id @default(autoincrement())
  tipo_mensagem    String?        @db.VarChar(50)
  tbl_messager     tbl_messager[]
}

model tbl_type_user {
  id_tipo  Int        @id @default(autoincrement())
  tipo     String?    @db.VarChar(50)
  tbl_user tbl_user[]
}

model tbl_user {
  id_user         Int               @id @default(autoincrement())
  email           String            @db.VarChar(100)
  senha           String            @db.VarChar(100)
  id_tipo         Int?
  tbl_chat        tbl_chat[]
  tbl_clinica     tbl_clinica[]
  tbl_medico      tbl_medico[]
  tbl_responsavel tbl_responsavel[]
  tbl_rotina      tbl_rotina[]
  tbl_type_user   tbl_type_user?    @relation(fields: [id_tipo], references: [id_tipo], onDelete: NoAction, onUpdate: NoAction, map: "FK_TIPO_USER")

  @@index([id_tipo], map: "FK_TIPO_USER")
}
